<!-- Main View -->
@section Scripts {
    <script src="~/js/users.js" asp-append-version="true"></script>
}

<div class="d-flex flex-row gap-2" x-data="usersHandler">
    <!-- Store Combobox -->
    <div class="combobox-container">
        <label class="form-label">Store</label>
        @await Html.PartialAsync("_Combobox.cshtml", new ComboboxViewModel{
            Id = "store-combo",
            ItemsSourcePath = "allStores",
            ValueProperty = "StoreCode",
            DisplayProperty = "StoreName",
            SelectedValuePath = "selectedStoreCode",
            Placeholder = "Select Store...",
            OnSelectCallback = "onStoreSelect"
        })
    </div>

    <!-- Tenant Combobox -->
    <div class="combobox-container">
        <label class="form-label">Tenant</label>
        @await Html.PartialAsync("_Combobox.cshtml", new ComboboxViewModel{
            Id = "tenant-combo", 
            ItemsSourcePath = "filteredTenants",
            ValueProperty = "TenantCode",
            DisplayProperty = "TenantName",
            SelectedValuePath = "selectedTenantCode",
            Placeholder = "Select Tenant...",
            OnSelectCallback = "onTenantSelect"
        })
    </div>

    <!-- Debug Display -->
    <div class="mt-3">
        <p><strong>Selected Store:</strong> <span x-text="selectedStoreCode || 'None'"></span></p>
        <p><strong>Selected Tenant:</strong> <span x-text="selectedTenantCode || 'None'"></span></p>
    </div>
</div>
